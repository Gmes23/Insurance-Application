{"ast":null,"code":"var _jsxFileName = \"/Users/gm/Desktop/workFolder/client/pages/dashboard.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InputText } from 'primereact/inputtext';\nimport { Growl } from 'primereact/growl';\nimport { Button } from 'primereact/button';\nimport Layout from '../components/Layout';\nexport class UserService {\n  getAllUsers() {\n    return fetch('http://localhost:4000/user', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(data => data); // .then((data) => {console.log(data)});\n  }\n\n}\n\nclass DataTableEditDemo2 extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      users: []\n    };\n    this.clonedUsers = {};\n    this.userservice = new UserService();\n    this.editorForRowEditing = this.editorForRowEditing.bind(this);\n    this.onRowEditorValidator = this.onRowEditorValidator.bind(this);\n    this.onRowEditInit = this.onRowEditInit.bind(this);\n    this.onRowEditSave = this.onRowEditSave.bind(this);\n    this.onRowEditCancel = this.onRowEditCancel.bind(this); //  Delete Method \n\n    this.actionTemplate = this.actionTemplate.bind(this);\n    this.handleDelete = this.handleDelete.bind(this); // Checks if what type of Liability User has\n\n    this.checkPrimaryAL = this.checkPrimaryAL.bind(this);\n    this.checkPrimaryEL = this.checkPrimaryEL.bind(this);\n    this.checkPrimaryGL = this.checkPrimaryGL.bind(this);\n  }\n\n  componentDidMount() {\n    this.userservice.getAllUsers().then(data => this.setState({\n      user: data\n    }));\n  }\n  /* Row Editing */\n\n\n  onEditorValueChangeForRowEditing(props, value) {\n    let updatedUsers = [...props.value];\n    updatedUsers[props.rowIndex][props.field] = value;\n    this.setState({\n      users: updatedUsers\n    });\n  }\n\n  editorForRowEditing(props, field) {\n    return __jsx(InputText, {\n      type: \"text\",\n      value: props.rowData[field],\n      onChange: e => this.onEditorValueChangeForRowEditing(props, e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 16\n      }\n    });\n  }\n\n  onRowEditorValidator(rowData) {\n    console.log(rowData, 'rowdataonroweditovalidto');\n    let value = rowData['first_name'];\n    return value.length > 0;\n  }\n\n  onRowEditInit(event) {\n    this.clonedUsers[event.data.vin] = _objectSpread({}, event.data);\n  }\n\n  onRowEditSave(event) {\n    if (this.onRowEditorValidator(event.data)) {\n      console.log(event.data.id, ' this event data ');\n      delete this.clonedUsers[event.data.vin];\n      fetch('http://localhost:4000/user/' + event.data.id, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(event.data)\n      }).then(response => response.json()).then(data => this.setState({\n        users: data\n      }));\n      this.growl.show({\n        severity: 'success',\n        summary: 'Success',\n        detail: 'Car is updated'\n      });\n    } else {\n      this.growl.show({\n        severity: 'error',\n        summary: 'Error',\n        detail: 'Brand is required'\n      });\n    }\n  }\n\n  onRowEditCancel(event) {\n    let users = [...this.state.users];\n    users[event.index] = this.clonedUsers[event.data.vin];\n    delete this.clonedUsers[event.data.vin];\n    this.setState({\n      users: users\n    });\n  } // These handle the Delete method \n\n\n  actionTemplate(rowData, column) {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 16\n      }\n    }, __jsx(Button, {\n      type: \"button\",\n      icon: \"pi pi-times\",\n      className: \"p-button-danger\",\n      style: {\n        marginRight: '.5em'\n      },\n      onClick: e => this.handleDelete(rowData, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }));\n  }\n\n  handleDelete(rowData, e) {\n    e.preventDefault();\n    const userId = rowData.id;\n    fetch('http://localhost:4000/user/' + userId, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => response.json()).then(this.setState({\n      users: rowData\n    }));\n  } //  Ternary function for liabilities\n\n\n  checkPrimaryAL(rowData, column) {\n    console.log(rowData.primary_al, 'rowDAtaeqweq');\n    return rowData.primary_al ? __jsx(\"i\", {\n      className: \"pi pi-check\",\n      style: {\n        'fontSize': '3em',\n        'color': 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 38\n      }\n    }) : __jsx(\"i\", {\n      className: \"pi pi-times\",\n      style: {\n        'fontSize': '3em',\n        'color': 'crimson'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 122\n      }\n    });\n  }\n\n  checkPrimaryEL(rowData, column) {\n    return rowData.primary_el ? __jsx(\"i\", {\n      className: \"pi pi-check\",\n      style: {\n        'fontSize': '3em',\n        'color': 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 38\n      }\n    }) : __jsx(\"i\", {\n      className: \"pi pi-times\",\n      style: {\n        'fontSize': '3em',\n        'color': 'crimson'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 122\n      }\n    });\n  }\n\n  checkPrimaryGL(rowData, column) {\n    return rowData.primary_gl ? __jsx(\"i\", {\n      className: \"pi pi-check\",\n      style: {\n        'fontSize': '3em',\n        'color': 'green'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 38\n      }\n    }) : __jsx(\"i\", {\n      className: \"pi pi-times\",\n      style: {\n        'fontSize': '3em',\n        'color': 'crimson'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 122\n      }\n    });\n  }\n\n  render() {\n    console.log(this.state, 'this state');\n    return __jsx(Layout, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"content-section introduction\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"feature-intro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    }, \"DataTable - Edit\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 29\n      }\n    }, \"User Data\"))), __jsx(\"div\", {\n      className: \"content-section implementation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, __jsx(Growl, {\n      ref: el => this.growl = el,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }), __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, \"Applicant Table\"), __jsx(DataTable, {\n      value: this.state.user,\n      editMode: \"row\",\n      rowEditorValidator: this.onRowEditorValidator,\n      onRowEditInit: this.onRowEditInit,\n      onRowEditSave: this.onRowEditSave,\n      onRowEditCancel: this.onRowEditCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, __jsx(Column, {\n      field: \"first_name\",\n      header: \"First Name\",\n      editor: props => this.editorForRowEditing(props, 'first_name'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"last_name\",\n      header: \"Last Name\",\n      editor: props => this.editorForRowEditing(props, 'last_name'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"email_address\",\n      header: \"Email Address\",\n      editor: props => this.editorForRowEditing(props, 'email_address'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"phone_number\",\n      header: \"Phone Number\",\n      editor: props => this.editorForRowEditing(props, 'phone_number'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"effective_date\",\n      header: \"Effective Date\",\n      editor: props => this.editorForRowEditing(props, 'effective_date'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"status\",\n      header: \"Status\",\n      editor: props => this.editorForRowEditing(props, 'status'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"primary_al\",\n      header: \"Auto Liability\",\n      body: this.checkPrimaryAL,\n      editor: props => this.editorForRowEditing(props, 'primary_al'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"primary_gl\",\n      header: \"General Liability\",\n      body: this.checkPrimaryEL,\n      editor: props => this.editorForRowEditing(props, 'primary_gl'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      field: \"primary_el\",\n      header: \"Primary Liability\",\n      body: this.checkPrimaryGL,\n      editor: props => this.editorForRowEditing(props, 'primary_el'),\n      style: {\n        height: '3.5em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      header: \"Delete Applicant\",\n      body: this.actionTemplate,\n      style: {\n        textAlign: 'center',\n        width: '8em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 29\n      }\n    }), __jsx(Column, {\n      header: \"Edit\",\n      rowEditor: true,\n      style: {\n        'width': '70px',\n        'textAlign': 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nexport default DataTableEditDemo2;","map":{"version":3,"sources":["/Users/gm/Desktop/workFolder/client/pages/dashboard.js"],"names":["DataTable","Column","InputText","Growl","Button","Layout","UserService","getAllUsers","fetch","method","headers","then","response","json","data","DataTableEditDemo2","React","Component","constructor","state","users","clonedUsers","userservice","editorForRowEditing","bind","onRowEditorValidator","onRowEditInit","onRowEditSave","onRowEditCancel","actionTemplate","handleDelete","checkPrimaryAL","checkPrimaryEL","checkPrimaryGL","componentDidMount","setState","user","onEditorValueChangeForRowEditing","props","value","updatedUsers","rowIndex","field","rowData","e","target","console","log","length","event","vin","id","body","JSON","stringify","growl","show","severity","summary","detail","index","column","marginRight","preventDefault","userId","primary_al","primary_el","primary_gl","render","el","height","textAlign","width"],"mappings":"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","sourcesContent":["import { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { InputText } from 'primereact/inputtext';\nimport { Growl } from 'primereact/growl';\nimport { Button } from 'primereact/button';\n\nimport Layout from '../components/Layout';\n\n\nexport class UserService {\n\n    getAllUsers() {\n        return fetch('http://localhost:4000/user', {\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' }\n        })\n            .then(response => response.json())\n            .then(data => data);\n        // .then((data) => {console.log(data)});\n    }\n}\n\nclass DataTableEditDemo2 extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            users: []\n        };\n\n        this.clonedUsers = {};\n        this.userservice = new UserService();\n\n        this.editorForRowEditing = this.editorForRowEditing.bind(this);\n        this.onRowEditorValidator = this.onRowEditorValidator.bind(this);\n        this.onRowEditInit = this.onRowEditInit.bind(this);\n        this.onRowEditSave = this.onRowEditSave.bind(this);\n        this.onRowEditCancel = this.onRowEditCancel.bind(this);\n\n        //  Delete Method \n        this.actionTemplate = this.actionTemplate.bind(this);\n        this.handleDelete = this.handleDelete.bind(this);\n\n        // Checks if what type of Liability User has\n        this.checkPrimaryAL = this.checkPrimaryAL.bind(this);\n        this.checkPrimaryEL = this.checkPrimaryEL.bind(this);\n        this.checkPrimaryGL = this.checkPrimaryGL.bind(this);\n\n    }\n\n    componentDidMount() {\n        this.userservice.getAllUsers().then(data => this.setState({ user: data }));\n    }\n\n\n\n    /* Row Editing */\n    onEditorValueChangeForRowEditing(props, value) {\n        let updatedUsers = [...props.value];\n        updatedUsers[props.rowIndex][props.field] = value;\n        this.setState({ users: updatedUsers });\n    }\n\n    editorForRowEditing(props, field) {\n        return <InputText type=\"text\" value={props.rowData[field]} onChange={(e) => this.onEditorValueChangeForRowEditing(props, e.target.value)} />;\n    }\n\n    onRowEditorValidator(rowData) {\n        console.log(rowData, 'rowdataonroweditovalidto')\n        let value = rowData['first_name'];\n        return value.length > 0;\n    }\n\n    onRowEditInit(event) {\n        this.clonedUsers[event.data.vin] = { ...event.data };\n    }\n\n    onRowEditSave(event) {\n        if (this.onRowEditorValidator(event.data)) {\n            console.log(event.data.id, ' this event data ')\n            delete this.clonedUsers[event.data.vin];\n            fetch('http://localhost:4000/user/' + event.data.id, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(event.data)\n            })\n                .then(response => response.json())\n                .then(data => this.setState({ users: data }));\n            this.growl.show({ severity: 'success', summary: 'Success', detail: 'Car is updated' });\n        }\n        else {\n            this.growl.show({ severity: 'error', summary: 'Error', detail: 'Brand is required' });\n        }\n    }\n\n    onRowEditCancel(event) {\n        let users = [...this.state.users];\n        users[event.index] = this.clonedUsers[event.data.vin];\n        delete this.clonedUsers[event.data.vin];\n        this.setState({\n            users: users\n        })\n    }\n\n    // These handle the Delete method \n    actionTemplate(rowData, column) {\n        return <div>\n            <Button\n                type=\"button\"\n                icon=\"pi pi-times\"\n                className=\"p-button-danger\"\n                style={{ marginRight: '.5em' }}\n                onClick={(e) => this.handleDelete(rowData, e)}\n            >\n            </Button>\n        </div>;\n    }\n\n    handleDelete(rowData, e) {\n        e.preventDefault();\n        const userId = rowData.id;\n        fetch('http://localhost:4000/user/' + userId, {\n            method: 'DELETE',\n            headers: { 'Content-Type': 'application/json' }\n        })\n            .then(response => response.json())\n            .then(this.setState({ users: rowData }));\n    }\n\n\n    //  Ternary function for liabilities\n    checkPrimaryAL(rowData, column) {\n        console.log(rowData.primary_al, 'rowDAtaeqweq')\n        return rowData.primary_al ? (<i className=\"pi pi-check\" style={{ 'fontSize': '3em', 'color': 'green' }}></i>) : (<i className=\"pi pi-times\" style={{ 'fontSize': '3em', 'color': 'crimson' }}></i>)\n    }\n\n    checkPrimaryEL(rowData, column) {\n        return rowData.primary_el ? (<i className=\"pi pi-check\" style={{ 'fontSize': '3em', 'color': 'green' }}></i>) : (<i className=\"pi pi-times\" style={{ 'fontSize': '3em', 'color': 'crimson' }}></i>)\n\n    }\n\n    checkPrimaryGL(rowData, column) {\n        return rowData.primary_gl ? (<i className=\"pi pi-check\" style={{ 'fontSize': '3em', 'color': 'green' }}></i>) : (<i className=\"pi pi-times\" style={{ 'fontSize': '3em', 'color': 'crimson' }}></i>)\n\n    }\n\n    render() {\n        console.log(this.state, 'this state')\n        return (\n            <Layout>\n\n                <div>\n                    <div className=\"content-section introduction\">\n                        <div className=\"feature-intro\">\n                            <h1>DataTable - Edit</h1>\n                            <p>User Data</p>\n                        </div>\n                    </div>\n\n                    <div className=\"content-section implementation\">\n                        <Growl ref={(el) => this.growl = el} />\n\n                        <h3>Applicant Table</h3>\n                        <DataTable value={this.state.user} editMode=\"row\" rowEditorValidator={this.onRowEditorValidator} onRowEditInit={this.onRowEditInit} onRowEditSave={this.onRowEditSave} onRowEditCancel={this.onRowEditCancel}>\n                            {/* <Column field=\"first_name\" header=\"Vin\" style={{height: '3.5em'}}/> */}\n                            <Column field=\"first_name\" header=\"First Name\" editor={(props) => this.editorForRowEditing(props, 'first_name')} style={{ height: '3.5em' }} />\n                            <Column field=\"last_name\" header=\"Last Name\" editor={(props) => this.editorForRowEditing(props, 'last_name')} style={{ height: '3.5em' }} />\n                            <Column field=\"email_address\" header=\"Email Address\" editor={(props) => this.editorForRowEditing(props, 'email_address')} style={{ height: '3.5em' }} />\n                            <Column field=\"phone_number\" header=\"Phone Number\" editor={(props) => this.editorForRowEditing(props, 'phone_number')} style={{ height: '3.5em' }} />\n                            <Column field=\"effective_date\" header=\"Effective Date\" editor={(props) => this.editorForRowEditing(props, 'effective_date')} style={{ height: '3.5em' }} />\n                            <Column field=\"status\" header=\"Status\" editor={(props) => this.editorForRowEditing(props, 'status')} style={{ height: '3.5em' }} />\n                            <Column field=\"primary_al\" header=\"Auto Liability\" body={this.checkPrimaryAL} editor={(props) => this.editorForRowEditing(props, 'primary_al')} style={{ height: '3.5em' }} />\n                            <Column field=\"primary_gl\" header=\"General Liability\" body={this.checkPrimaryEL} editor={(props) => this.editorForRowEditing(props, 'primary_gl')} style={{ height: '3.5em' }} />\n                            <Column field=\"primary_el\" header=\"Primary Liability\" body={this.checkPrimaryGL} editor={(props) => this.editorForRowEditing(props, 'primary_el')} style={{ height: '3.5em' }} />\n                            <Column header=\"Delete Applicant\" body={this.actionTemplate} style={{ textAlign: 'center', width: '8em' }} />\n\n                            <Column header=\"Edit\" rowEditor={true} style={{ 'width': '70px', 'textAlign': 'center' }}></Column>\n                        </DataTable>\n                    </div>\n                </div>\n            </Layout>\n        );\n    }\n}\n\nexport default DataTableEditDemo2;"]},"metadata":{},"sourceType":"module"}